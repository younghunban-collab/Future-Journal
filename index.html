<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬ë¦¬ìŠ¤ì°¬ ë¯¸ë˜ì €ë„</title>
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #fffcf0 0%, #f7f3e9 100%);
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(255, 255, 255, 0.9);
            --text-main: #5d5b54;
            --text-sub: #8e8c84;
            --accent-color: #d4a373;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; padding: 0;
            font-family: 'Pretendard', -apple-system, sans-serif;
            background: var(--bg-gradient);
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
            color: var(--text-main);
            overflow: hidden;
        }

        .container {
            width: 90%; max-width: 420px; height: 85vh;
            background: var(--glass-bg);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 40px;
            padding: 20px 0;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .global-clock {
            font-size: 0.9rem; text-align: center; font-weight: 500;
            margin: 0 25px 15px 25px;
            color: var(--text-sub);
            padding-bottom: 10px; border-bottom: 1px solid rgba(0,0,0,0.05);
            position: relative; z-index: 10;
        }

        .page-wrapper {
            display: flex;
            width: 500%; 
            height: calc(100% - 50px);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
        }

        .page {
            width: 20%;
            height: 100%;
            display: flex; flex-direction: column;
            overflow-y: auto;
            padding: 0 25px 40px 25px;
            flex-shrink: 0;
        }

        .page::-webkit-scrollbar { display: none; }

        .hero-section { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .title-kr { font-size: 1.8rem; font-weight: 700; margin: 5px 0; color: #4a4842; }
        .title-en { font-size: 1.1rem; letter-spacing: 1px; color: var(--accent-color); margin-bottom: 10px; font-style: italic; }
        .main-phrase { font-size: 1rem; color: var(--text-sub); margin-bottom: 30px; }

        h2 { font-size: 1.3rem; text-align: center; margin-bottom: 10px; color: #4a4842; }
        .date-display { text-align: center; font-size: 0.9rem; color: var(--accent-color); margin-bottom: 20px; font-weight: 600; }

        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; font-size: 0.85rem; margin-bottom: 8px; font-weight: 600; color: #7a7872; line-height: 1.4; }
        textarea {
            width: 100%; padding: 12px; border-radius: 12px;
            border: 1px solid rgba(0,0,0,0.08); background: rgba(255, 255, 255, 0.5);
            box-sizing: border-box; font-size: 0.9rem; font-family: inherit;
            resize: none; line-height: 1.5;
        }

        button {
            width: 100%; padding: 15px; border-radius: 18px; border: none;
            background: var(--accent-color); color: white;
            font-weight: 600; font-size: 1rem; cursor: pointer; margin-top: 8px;
            box-shadow: 0 4px 15px rgba(212, 163, 115, 0.15);
            flex-shrink: 0;
        }
        .copy-btn { background: #84a59d; }
        .secondary-btn { background: #e9e4d9; color: #7a7872; box-shadow: none; }
        
        .journal-item {
            background: white; padding: 18px; border-radius: 15px; margin-bottom: 12px;
            display: flex; justify-content: space-between; border: 1px solid rgba(0,0,0,0.03);
            cursor: pointer; flex-shrink: 0;
        }

        footer { font-size: 0.75rem; color: #bcbab3; text-align: center; margin-top: 20px; padding-bottom: 10px; }
    </style>
</head>
<body>

<div class="container">
    <div class="global-clock" id="clockDisplay"></div>

    <div class="page-wrapper" id="pageWrapper">
        <div class="page" id="p1">
            <div class="hero-section">
                <p style="font-size: 0.9rem; color: var(--text-sub);">ë¯¸ë˜ë¥¼ ì¤€ë¹„í•˜ëŠ” ë¦¬ë”</p>
                <h1 class="title-kr">í¬ë¦¬ìŠ¤ì°¬ ë¯¸ë˜ì €ë„</h1>
                <p class="title-en">Christian Future Journal</p>
                <p class="main-phrase">"ì˜¤ëŠ˜ì„ ì ì–´ ë¯¸ë˜ë¥¼ ë§Œë“¤ë‹¤."</p>
            </div>
            <button onclick="handleStartJournal()">ì˜¤ëŠ˜ì˜ ë¯¸ë˜ì €ë„ë§í•˜ê¸°</button>
            <footer>Developed by Nathanban</footer>
        </div>

        <div class="page" id="p2">
            <h2>ì˜¤ëŠ˜ì˜ ë¯¸ë˜ì €ë„ë§</h2>
            <div id="currentWriteDate" class="date-display"></div>
            <div id="newEntryForm">
                <div class="input-group"><label>1. ì•„ì¹¨ì„ ì—¬ëŠ” ë¯¿ìŒì˜ ì„ í¬(í•˜ë£¨ë¥¼ â€˜ì¢‹ìœ¼ì‹  í•˜ë‚˜ë‹˜'ì— ëŒ€í•œ ê³ ë°±ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤. ì˜¤ëŠ˜ì˜ ê°ì‚¬Q.T365 ë§ì”€ ì ê¸°ì™€ ë§ì”€ì„ í†µí•´ ê¹¨ë‹¬ì€ ê²ƒ, ëŠë‚€ ê²ƒ, ì‹¤ì²œí•œ ê²ƒì„ ê°ê° ê¸°ë¡í•©ë‹ˆë‹¤.)</label><textarea id="entry1" rows="3"></textarea></div>
                <div class="input-group"><label>2. ê·¸ë¦¬ìŠ¤ë„ ì•ˆì—ì„œì˜ ì •ì²´ì„±ê³¼ ì†Œëª…(ê·¸ë¦¬ìŠ¤ë„ ì•ˆì—ì„œ â€˜ë‚˜ëŠ” ëˆ„êµ¬ì¸ê°€ìš”?â€™ ì™œ ê·¸ ì¼ì„ í•˜ë©° ì‚´ì•„ê°€ëŠ”ì§€ í•˜ë‚˜ë‹˜ ë‚˜ë¼ë¥¼ ìœ„í•œ ë‚˜ë¦„ì˜ ì´ìœ ì™€ ë‹µì„ ì ì–´ë³´ì„¸ìš”.)</label><textarea id="entry2" rows="3"></textarea></div>
                <div class="input-group"><label>3. ê°ì‚¬ì˜ ì œë‹¨ ìŒ“ê¸°(í•˜ë‚˜ë‹˜ê»˜ì„œ ì˜¤ëŠ˜ ë‚´ê²Œ í—ˆë½í•˜ì‹  ëª¨ë“  ê²ƒì— ëŒ€í•œ ê°ì‚¬ 3ê°€ì§€ ì´ìƒ ì ì–´ë³´ì„¸ìš”.)</label><textarea id="entry3" rows="3"></textarea></div>
                <div class="input-group"><label>4. ê´€ê³„ì™€ ì„¬ê¹€(ëŒë´„ê³¼ êµì œì˜ ì‹œê°„, ì„¸ìƒì— ì„ í•œ ì˜í–¥ë ¥ì„ ë¯¸ì¹œ í•œ ì‚¬ëŒì„ ì„ ì •í•˜ê³  ê·¸ ì´ìœ ë¥¼ ì ì–´ë³´ì„¸ìš”.)</label><textarea id="entry4" rows="3"></textarea></div>
                <div class="input-group"><label>5. ì²­ì§€ê¸°ì˜ ì‚¶ê³¼ ì¼ìƒ ë£¨í‹´(ìš´ë™ ë£¨í‹´ê³¼ ì§ˆë³‘ ì¹˜ìœ ë¥¼ ìœ„í•œ ê¸°ë„ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.)</label><textarea id="entry5" rows="2"></textarea></div>
                <div class="input-group"><label>6. í•˜ë£¨ì˜ íšŒê³ ì™€ ì¹˜ìœ  ê¸°ë„(í™”ë‚¬ë˜ ì¼ì„ ì†”ì§íˆ ì ê³ , ì¹˜ìœ ë¥¼ ìœ„í•œ ê¸°ë„ë¥¼ ë“œë¦½ë‹ˆë‹¤.)</label><textarea id="entry6" rows="2"></textarea></div>
                <div class="input-group"><label>7. ì°½ì¡°ì  ì˜ì„±ê³¼ ì€í˜œì˜ ì‹œê°í™”(ì˜¤ëŠ˜ ëŠê¼ˆë˜ ì€í˜œë¥¼ ê·¸ë¦¼, ì‹œ, ì‚¬ì§„ ë“±ìœ¼ë¡œ í‘œí˜„í•˜ì—¬ ê¸°ë¡í•©ë‹ˆë‹¤.)</label><textarea id="entry7" rows="2"></textarea></div>
            </div>
            <button class="copy-btn" onclick="copyCurrentContent()">ë³µì‚¬í•˜ê¸°</button>
            <button onclick="saveJournal()">ê¸°ë¡ ì €ì¥í•˜ê¸°</button>
            <button class="secondary-btn" onclick="goToPage(0)">ì·¨ì†Œ</button>
        </div>

        <div class="page" id="p3">
            <h2>ë‚˜ì˜ ë¯¸ë˜ì €ë„ ë³´ê´€í•¨</h2>
            <div id="journalList" style="flex-grow: 1;"></div>
            <button class="copy-btn" onclick="copyAllJournals()">ì „ì²´ ëª©ë¡ ë³µì‚¬</button>
            <button class="secondary-btn" onclick="goToPage(0)">í™ˆìœ¼ë¡œ ê°€ê¸°</button>
        </div>

        <div class="page" id="p4">
            <h2>ê¸°ë¡ í™•ì¸ ë° ìˆ˜ì •</h2>
            <div id="viewDetailDate" class="date-display"></div>
            <div id="editForm"></div>
            <button id="updateBtn">ìˆ˜ì • í™œì„±í™”</button>
            <button id="copyDetailBtn" class="copy-btn">ë³µì‚¬í•˜ê¸°</button>
            <button id="saveUpdateBtn" style="display:none; background: #84a59d;">ìˆ˜ì • ë‚´ìš© ì €ì¥</button>
            <button class="secondary-btn" onclick="goToPage(2)">ëª©ë¡ìœ¼ë¡œ</button>
        </div>

        <div class="page" id="p5" style="text-align: center; justify-content: center;">
            <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ•Šï¸</div>
            <h2>ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.</h2>
            <p style="color: var(--text-main); font-weight: 500;">ì˜¤ëŠ˜ì˜ ì˜ì  ì„±ì¥ì´ ê¸°ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            <p style="color: var(--text-sub); font-size: 0.9rem;">ì˜¤ëŠ˜ì˜ í•œ ê±¸ìŒì´ ë‹¹ì‹ ì˜ ë¯¸ë˜ë¥¼ ë°”ê¿‰ë‹ˆë‹¤.</p>
            <button onclick="goToPage(0)" style="margin-top: 30px;">ì²˜ìŒìœ¼ë¡œ ê°€ê¸°</button>
        </div>
    </div>
</div>

<script>
    const labels = [
        "1. ì•„ì¹¨ì„ ì—¬ëŠ” ë¯¿ìŒì˜ ì„ í¬(í•˜ë£¨ë¥¼ â€˜ì¢‹ìœ¼ì‹  í•˜ë‚˜ë‹˜'ì— ëŒ€í•œ ê³ ë°±ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤. ì˜¤ëŠ˜ì˜ Q.T ë§ì”€ ì ê¸°ì™€ ê¹¨ë‹¬ì€ ê²ƒ, ëŠë‚€ ê²ƒ, ì‹¤ì²œí•œ ê²ƒì„ ê°ê° ê¸°ë¡í•©ë‹ˆë‹¤.)",
        "2. ê·¸ë¦¬ìŠ¤ë„ ì•ˆì—ì„œì˜ ì •ì²´ì„±ê³¼ ì†Œëª…(ê·¸ë¦¬ìŠ¤ë„ ì•ˆì—ì„œ â€˜ë‚˜ëŠ” ëˆ„êµ¬ì¸ê°€ìš”?â€™ ì™œ ê·¸ ì¼ì„ í•˜ë©° ì‚´ì•„ê°€ëŠ”ì§€ í•˜ë‚˜ë‹˜ ë‚˜ë¼ë¥¼ ìœ„í•œ ë‚˜ë¦„ì˜ ì´ìœ ì™€ ë‹µì„ ì ì–´ë³´ì„¸ìš”.)",
        "3. ê°ì‚¬ì˜ ì œë‹¨ ìŒ“ê¸°(í•˜ë‚˜ë‹˜ê»˜ì„œ ì˜¤ëŠ˜ ë‚´ê²Œ í—ˆë½í•˜ì‹  ëª¨ë“  ê²ƒì— ëŒ€í•œ ê°ì‚¬ 3ê°€ì§€ ì´ìƒ ì ì–´ë³´ì„¸ìš”.)",
        "4. ê´€ê³„ì™€ ì„¬ê¹€(ëŒë´„ê³¼ êµì œì˜ ì‹œê°„, ì„¸ìƒì— ì„ í•œ ì˜í–¥ë ¥ì„ ë¯¸ì¹œ í•œ ì‚¬ëŒì„ ì„ ì •í•˜ê³  ê·¸ ì´ìœ ë¥¼ ì ì–´ë³´ì„¸ìš”.)",
        "5. ì²­ì§€ê¸°ì˜ ì‚¶ê³¼ ì¼ìƒ ë£¨í‹´(ìš´ë™ ë£¨í‹´ê³¼ ì§ˆë³‘ ì¹˜ìœ ë¥¼ ìœ„í•œ ê¸°ë„ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.)",
        "6. í•˜ë£¨ì˜ íšŒê³ ì™€ ì¹˜ìœ  ê¸°ë„(í™”ë‚¬ë˜ ì¼ì„ ì†”ì§íˆ ì ê³ , ì¹˜ìœ ë¥¼ ìœ„í•œ ê¸°ë„ë¥¼ ë“œë¦½ë‹ˆë‹¤.)",
        "7. ì°½ì¡°ì  ì˜ì„±ê³¼ ì€í˜œì˜ ì‹œê°í™”(ì˜¤ëŠ˜ ëŠê¼ˆë˜ ì€í˜œë¥¼ ê·¸ë¦¼, ì‹œ, ì‚¬ì§„ ë“±ìœ¼ë¡œ í‘œí˜„í•˜ì—¬ ê¸°ë¡í•©ë‹ˆë‹¤.)"
    ];

    function goToPage(index) {
        const wrapper = document.getElementById('pageWrapper');
        wrapper.style.transform = `translateX(-${index * 20}%)`;
        if(index === 2) renderList();
    }

    function updateClock() {
        const now = new Date();
        document.getElementById('clockDisplay').innerText = now.toLocaleString();
    }
    setInterval(updateClock, 1000);
    updateClock();

    function handleStartJournal() {
        const today = new Date().toLocaleDateString();
        document.getElementById('currentWriteDate').innerText = `ì‘ì„±ì¼: ${today}`;
        
        const journals = JSON.parse(localStorage.getItem('journals') || '[]');
        if(journals.some(j => j.date === today)) goToPage(2);
        else goToPage(1);
    }

    function saveJournal() {
        const journals = JSON.parse(localStorage.getItem('journals') || '[]');
        const content = Array.from({length:7}, (_, i) => document.getElementById('entry'+(i+1)).value);
        journals.push({ id: Date.now(), date: new Date().toLocaleDateString(), content });
        localStorage.setItem('journals', JSON.stringify(journals));
        goToPage(4); 
    }

    function renderList() {
        const listDiv = document.getElementById('journalList');
        const journals = JSON.parse(localStorage.getItem('journals') || '[]');
        if(journals.length === 0) {
            listDiv.innerHTML = '<p style="text-align:center; color:#bbb; margin-top:50px;">ì €ì¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
            return;
        }
        listDiv.innerHTML = journals.slice().reverse().map(j => `
            <div class="journal-item" onclick="viewDetail(${j.id})">
                <strong>${j.date} ì €ë„</strong><span>ë³´ê¸° ></span>
            </div>
        `).join('');
    }

    function viewDetail(id) {
        const journals = JSON.parse(localStorage.getItem('journals') || '[]');
        const item = journals.find(j => j.id === id);
        document.getElementById('viewDetailDate').innerText = `ì‘ì„±ì¼: ${item.date}`;
        
        const editForm = document.getElementById('editForm');
        editForm.innerHTML = item.content.map((c, i) => `
            <div class="input-group">
                <label>${labels[i]}</label>
                <textarea class="edit-entry" disabled rows="${i < 4 ? '3' : '2'}">${c}</textarea>
            </div>
        `).join('');

        const updateBtn = document.getElementById('updateBtn');
        const copyBtn = document.getElementById('copyDetailBtn');
        const saveUpdateBtn = document.getElementById('saveUpdateBtn');
        
        updateBtn.style.display = 'block'; 
        copyBtn.style.display = 'block';
        saveUpdateBtn.style.display = 'none';

        // í™•ì¸ í˜ì´ì§€ ë³µì‚¬í•˜ê¸° ë¡œì§
        copyBtn.onclick = () => {
            const inputs = document.querySelectorAll('.edit-entry');
            let text = `       <ì˜¤ëŠ˜ì˜ í¬ë¦¬ìŠ¤ì°¬ ë¯¸ë˜ì €ë„ë§>\n`;
            text += `        ì‘ì„±ì¼: ${item.date}\n\n`;
            labels.forEach((l, i) => {
                text += `${l}\n- ${inputs[i].value}\n\n`;
            });
            navigator.clipboard.writeText(text).then(() => alert('ë‚´ìš©ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.'));
        };

        updateBtn.onclick = () => {
            document.querySelectorAll('.edit-entry').forEach(el => el.disabled = false);
            updateBtn.style.display = 'none'; 
            copyBtn.style.display = 'none'; // ìˆ˜ì • ì¤‘ì¼ ë•ŒëŠ” ë³µì‚¬ ë²„íŠ¼ ìˆ¨ê¹€ (ì„ íƒ ì‚¬í•­)
            saveUpdateBtn.style.display = 'block';
        };

        saveUpdateBtn.onclick = () => {
            const updated = Array.from(document.querySelectorAll('.edit-entry')).map(el => el.value);
            const idx = journals.findIndex(j => j.id === id);
            journals[idx].content = updated;
            localStorage.setItem('journals', JSON.stringify(journals));
            alert('ê¸°ë¡ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
            renderList();
            goToPage(2);
        };
        goToPage(3);
    }

    function copyCurrentContent() {
        const today = new Date().toLocaleDateString();
        const inputs = document.querySelectorAll('#newEntryForm textarea');
        let text = `<ì˜¤ëŠ˜ì˜ í¬ë¦¬ìŠ¤ì°¬ ë¯¸ë˜ì €ë„ë§>\n`;
        text += `ì‘ì„±ì¼: ${today}\n\n`;
        labels.forEach((l, i) => {
            text += `${l}\n- ${inputs[i].value}\n\n`;
        });
        navigator.clipboard.writeText(text).then(() => alert('ë‚´ìš©ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.'));
    }

    function copyAllJournals() {
        const journals = JSON.parse(localStorage.getItem('journals') || '[]');
        if(journals.length === 0) return alert('ë³µì‚¬í•  ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.');
        const text = journals.map(j => `       <ì˜¤ëŠ˜ì˜ í¬ë¦¬ìŠ¤ì°¬ ë¯¸ë˜ì €ë„ë§>\n        ì‘ì„±ì¼: ${j.date}\n\n${j.content.map((c,i)=>`${labels[i]}\n: ${c}`).join('\n\n')}`).join('\n\n====================\n\n');
        navigator.clipboard.writeText(text).then(() => alert('ì „ì²´ ê¸°ë¡ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.'));
    }
</script>
</body>
</html>
